import unittest

def balde(M, x, y):
    i = x - 1
    j = y - 1
    balde1(M, i, j, M[i][j])


def balde1(M, x, y, antigo):
    # verifica se esta nos limites do array
    if (x < 0 or x >= len(M)):
        return
    if (y < 0 or y >= len(M[x])):
        return

    tinta = '-'

    if not M[x][y] == antigo:
        return

    M[x][y] = tinta

    # divisao
    for i in [-1, 0, 1]:
        for j in [-1, 0, 1]:


            # conquista
            balde1(M, x + i, y + j, antigo)

    # combinacao  trivial


class BaldeTestCase(unittest.TestCase):

    def test1(self):
        M = [['*','*','*','*'],
             ['#','*','#','#'],
             ['#','#','#','#'],
             ['*','*','*','*'],
             ['*','*','*','*']]

        balde(M, 2, 2)


        self.assertEquals(M, [['-','-','-','-'],
                              ['#','-','#','#'],
                              ['#','#','#','#'],
                              ['*','*','*','*'],
                              ['*','*','*','*']])

#----------------------------------------

    def test2(self):
        M = [['*','*','*','*'],
             ['#','*','#','#'],
             ['#','#','#','#'],
             ['*','*','*','*'],
             ['*','*','*','*']]

        balde(M, 4, 2)

        self.assertEquals(M, [['*','*','*','*'],
                              ['#','*','#','#'],
                              ['#','#','#','#'],
                              ['-','-','-','-'],
                              ['-','-','-','-']])


#----------------------------------------

    def test3(self):
        M = [['*','#','*','*'],
             ['#','*','#','#'],
             ['#','#','#','#'],
             ['*','*','*','*'],
             ['*','*','*','*']]

        balde(M, 2, 2)

        self.assertEquals(M, [['-','#','-','-'],
                              ['#','-','#','#'],
                              ['#','#','#','#'],
                              ['*','*','*','*'],
                              ['*','*','*','*']])

#----------------------------------------

    def test4(self):
        M = [['*','#','*','*'],
             ['#','*','#','#'],
             ['#','#','*','#'],
             ['*','*','*','*'],
             ['*','*','*','*']]

        balde(M, 2, 2)

        self.assertEquals(M, [['-','#','-','-'],
                              ['#','-','#','#'],
                              ['#','#','-','#'],
                              ['-','-','-','-'],
                              ['-','-','-','-']])


if __name__ == '__main__':
    unittest.main()


